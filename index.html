<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>NSimulator — Advanced Number System Simulator</title>
  <meta name="description" content="NSimulator — clean purple-themed number system simulator with step-by-step conversions and binary column arithmetic." />
  <style>
    :root{
      --bg-1: #1b0033; /* deep purple */
      --bg-2: #5317b6; /* violet */
      --card: rgba(255,255,255,0.98);
      --muted: #6a4aa3;
      --accent: #c084fc;
      --glass: rgba(255,255,255,0.06);
      --chip: rgba(255,255,255,0.04);
      --radius: 14px;
      --shadow: 0 10px 30px rgba(8,6,20,0.5);
      --mono: ui-monospace, SFMono-Regular, Menlo, Monaco, "Roboto Mono", "Courier New", monospace;
      --gap: 12px;
    }

    /* Reset */
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      font-family: Inter, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
      background: linear-gradient(180deg,var(--bg-1) 0%, rgba(83,23,182,0.85) 45%, var(--bg-2) 100%);
      color:#1b0736;
      display:flex;
      align-items:flex-start;
      justify-content:center;
      padding:36px 18px;
      -webkit-font-smoothing:antialiased;
      -moz-osx-font-smoothing:grayscale;
    }

    .container{
      width:100%;
      max-width:980px;
      margin:24px auto;
      padding:20px;
    }

    .card{
      background: linear-gradient(180deg, rgba(255,255,255,0.98), rgba(255,255,255,0.96));
      border-radius:var(--radius);
      box-shadow:var(--shadow);
      overflow:hidden;
    }

    header{
      display:flex;align-items:center;gap:14px;padding:18px 20px;border-bottom:1px solid rgba(15,5,30,0.04);
      background: linear-gradient(90deg, rgba(255,255,255,0.02), rgba(255,255,255,0.00));
      backdrop-filter: blur(6px);
    }

    /* Logo (option A) */
    .logo-wrap{display:flex;align-items:center;gap:12px}
    .logo-box{
      width:44px;height:44px;border-radius:10px;display:flex;align-items:center;justify-content:center;
      background: linear-gradient(135deg,#7c3aed,#c084fc); box-shadow: 0 6px 18px rgba(124,58,237,0.18);
      transform: translateZ(0);
    }
    .logo-box svg{width:26px;height:26px;filter:drop-shadow(0 4px 10px rgba(120,60,220,0.18))}
    .brand{font-weight:700;font-size:18px;color:#2b0b46}
    .tag{font-size:12px;color:var(--muted);margin-top:2px}

    main{padding:20px}

    .grid{display:grid;grid-template-columns:1fr 340px;gap:18px}

    /* responsive */
    @media (max-width:880px){
      .grid{grid-template-columns:1fr;}
    }

    /* Form area */
    .panel{padding:12px 14px;border-radius:12px;background:linear-gradient(180deg, rgba(255,255,255,0.95), rgba(255,255,255,0.92));border:1px solid rgba(17,6,34,0.03)}
    .row{display:flex;gap:10px;align-items:center;margin:10px 0}
    label{display:block;font-size:13px;color:#4b2a66}
    select,input{padding:10px 12px;border-radius:10px;border:1px solid rgba(12,6,24,0.04);font-size:14px;width:100%;background:transparent}
    .controls{display:flex;gap:12px;margin-top:12px}
    .btn{background:linear-gradient(180deg,#7c3aed,#6d28d9);color:white;border:none;padding:10px 14px;border-radius:10px;font-weight:700;cursor:pointer;box-shadow:0 6px 18px rgba(124,58,237,0.12);transition:transform .14s ease, box-shadow .14s ease}
    .btn:active{transform:translateY(1px)}
    .btn.secondary{background:transparent;color:#4b2a66;border:1px solid rgba(12,6,24,0.04);font-weight:600}

    /* results */
    .results{padding:12px;border-radius:10px;background:linear-gradient(180deg, rgba(255,255,255,0.96), rgba(255,255,255,0.94));border:1px solid rgba(124,58,237,0.06);min-height:220px;max-height:540px;overflow:auto}
    .step{background:linear-gradient(180deg,#fff,#fbf8ff);padding:10px;border-radius:10px;margin-bottom:12px;border:1px solid rgba(124,58,237,0.05)}
    .step strong{color:#2b0b46}
    pre{margin:0;font-family:var(--mono);font-size:13px;white-space:pre-wrap;color:#2b0b46}
    .muted{color:var(--muted);font-size:13px}
    .highlight{display:inline-block;background:linear-gradient(90deg,#f4e8ff,#efe1ff);padding:6px 10px;border-radius:8px;font-weight:700;color:#3b0b50}

    /* subtle animations */
    .fade-in{animation:fadeUp .36s cubic-bezier(.2,.9,.35,1) both}
    @keyframes fadeUp{from{opacity:0;transform:translateY(8px)}to{opacity:1;transform:none}}

    footer{padding:14px 20px;border-top:1px solid rgba(15,5,30,0.03);display:flex;align-items:center;justify-content:space-between;color:var(--muted);font-size:13px}

    /* small helpers */
    .two-col{display:grid;grid-template-columns:1fr 1fr;gap:10px}
    @media (max-width:500px){.two-col{grid-template-columns:1fr}}

    .small{width:160px}

  </style>
</head>
<body>
  <div class="container">
    <div class="card fade-in" role="application">

      <header>
        <div class="logo-wrap">
          <div class="logo-box" aria-hidden="true">
            <!-- Logo A: NS initials -->
            <svg viewBox="0 0 64 64" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
              <rect x="4" y="4" width="56" height="56" rx="10" fill="url(#g)" />
              <defs>
                <linearGradient id="g" x1="0" x2="1" y1="0" y2="1">
                  <stop offset="0" stop-color="#7C3AED"/>
                  <stop offset="1" stop-color="#C084FC"/>
                </linearGradient>
              </defs>
              <g transform="translate(10,10)" fill="white">
                <path d="M6 36V8h6l8 18 8-18h6v28h-6V22.5L24 40 12 22.5V36H6z"/>
                <path d="M36 36h6V8h-6v28z" opacity="0.05"/>
              </g>
            </svg>
          </div>
          <div>
            <div class="brand">NSimulator</div>
            <div class="tag">Number system steps • conversion • arithmetic</div>
          </div>
        </div>
        <div style="flex:1"></div>
        <nav style="display:flex;gap:10px;align-items:center">
        </nav>
      </header>

      <main>
        <div class="grid">

          <!-- LEFT: Controls -->
          <section class="panel" aria-label="Controls">
            <div style="display:flex;justify-content:space-between;align-items:center">
              <div>
                <div style="font-weight:700;color:#2b0b46">Operation</div>
                <div class="muted" style="margin-top:4px">Choose mode and enter inputs</div>
              </div>
              <div style="opacity:0.9;font-size:12px;color:var(--muted)">NSimulator</div>
            </div>

            <div class="row" style="margin-top:12px">
              <div style="flex:1">
                <label for="operationType">Operation</label>
                <select id="operationType" onchange="renderInputs()" aria-controls="inputsArea">
                  <option value="conversion">Conversion</option>
                  <option value="complement">1's / 2's Complement</option>
                  <option value="addition">Addition</option>
                  <option value="subtraction">Subtraction</option>
                  <option value="multiplication">Multiplication</option>
                  <option value="division">Division</option>
                </select>
              </div>

              <div class="small">
                <label for="resultBase">Result Base</label>
                <select id="resultBase" aria-label="Result base">
                  <option value="decimal">Decimal</option>
                  <option value="binary">Binary</option>
                  <option value="octal">Octal</option>
                  <option value="hexadecimal">Hexadecimal</option>
                </select>
              </div>
            </div>

            <div id="inputsArea" style="margin-top:8px"></div>

            <div class="controls">
              <button class="btn" onclick="run()">Calculate</button>
              <button class="btn secondary" onclick="resetAll()">Reset</button>
            </div>

            <div style="margin-top:10px;color:var(--muted);font-size:13px">Tip: use leading '-' for negative numbers. Inputs accept decimal, binary, octal, hexadecimal based on selection.</div>
          </section>

          <!-- RIGHT: Results -->
          <aside>
            <div class="panel">
              <div style="display:flex;align-items:center;justify-content:space-between;margin-bottom:8px">
                <div style="font-weight:700;color:#2b0b46">Results & Steps</div>
                <div class="muted">Detailed, step-by-step</div>
              </div>

              <div id="results" class="results" aria-live="polite" tabindex="0">
                <div class="step"><strong>Ready</strong><div style="margin-top:8px"><pre>Choose an operation, enter inputs and click Calculate.</pre></div></div>
              </div>

            </div>
          </aside>

        </div>
      </main>

      <footer>
        <div class="muted">No copy action </div>
      </footer>

    </div>
  </div>

<script>
// ======= Utilities (same functionality, cleaned) =======
function parseToDecimal(inputStr, base){
  if(typeof inputStr !== 'string') inputStr = String(inputStr);
  inputStr = inputStr.trim(); if(inputStr.length===0) throw 'Empty input';
  let neg = false; if(inputStr.startsWith('-')){neg=true; inputStr = inputStr.slice(1); if(inputStr.length===0) throw 'Invalid number';}
  if(base==='decimal'){ if(!/^[0-9]+$/.test(inputStr)) throw 'Invalid decimal'; var val = parseInt(inputStr,10); }
  else if(base==='binary'){ if(!/^[01]+$/.test(inputStr)) throw 'Invalid binary'; var val = parseInt(inputStr,2); }
  else if(base==='octal'){ if(!/^[0-7]+$/.test(inputStr)) throw 'Invalid octal'; var val = parseInt(inputStr,8); }
  else if(base==='hexadecimal'){ if(!/^[0-9a-fA-F]+$/.test(inputStr)) throw 'Invalid hex'; var val = parseInt(inputStr,16); }
  return neg ? -val : val;
}

function baseToDecimalSteps(inputStr, baseName){
  const hexMap='0123456789ABCDEF';
  inputStr = inputStr.trim(); if(inputStr.length===0) throw 'Empty input';
  let neg=false; if(inputStr.startsWith('-')){neg=true; inputStr=inputStr.slice(1);} 
  const base = baseName==='binary'?2: baseName==='octal'?8: baseName==='hexadecimal'?16:10;
  let steps=[], dec=0; const len=inputStr.length;
  for(let i=0;i<len;i++){ let ch=inputStr[i]; let val = hexMap.indexOf(ch.toUpperCase()); if(val<0||val>=base) throw `Invalid digit '${ch}' for base ${base}`; let power=len-1-i; let term = val * Math.pow(base, power); steps.push(`${val} × ${base}^${power} = ${term}`); dec += term; }
  if(neg) dec = -dec; return {decimal:dec, steps};
}

function decimalToBaseSteps(decimal, baseName){
  const hexMap='0123456789ABCDEF';
  if(decimal===0) return {repr:'0', steps:[`Decimal is 0 → ${baseName.toUpperCase()} is 0`]};
  const neg = decimal < 0; let n=Math.abs(decimal); const base = baseName==='binary'?2: baseName==='octal'?8: baseName==='hexadecimal'?16:10;
  let steps=[], digits='';
  while(n>0){ let q=Math.floor(n/base); let r=n%base; steps.push(`${n} ÷ ${base} = ${q} remainder ${hexMap[r]}`); digits = hexMap[r] + digits; n = q; }
  if(neg) digits = '-' + digits; return {repr:digits, steps};
}

function toTwosComplementStr(value, width){
  if(width<1) width=1; if(value>=0){ let s = Math.abs(value).toString(2).padStart(width,'0'); if(s.length>width) s = s.slice(-width); return s; }
  let mod = (Math.pow(2,width) + value) >>> 0; let s = mod.toString(2).padStart(width,'0'); if(s.length>width) s = s.slice(-width); return s;
}

function binaryColumnAddSteps(binA, binB){
  let a = binA.slice(), b=binB.slice(); const n = Math.max(a.length,b.length); a=a.padStart(n,'0'); b=b.padStart(n,'0'); let carry=0; let res=''; let steps=[];
  for(let i=n-1;i>=0;i--){ let bitA=parseInt(a[i]), bitB=parseInt(b[i]); let sum = bitA+bitB+carry; let out = sum%2; steps.unshift(`bit ${i}: ${bitA} + ${bitB} + carry ${carry} -> ${out} (new carry ${Math.floor(sum/2)})`); res = out + res; carry = Math.floor(sum/2); }
  if(carry){ steps.unshift(`final carry: ${carry} added as MSB`); res = '1' + res; }
  return {result:res, steps};
}

function binaryColumnSubSteps(binA, binB){
  let a=binA.slice(), b=binB.slice(); const n=Math.max(a.length,b.length); a=a.padStart(n,'0'); b=b.padStart(n,'0'); let res=''; let steps=[]; let borrow=0;
  for(let i=n-1;i>=0;i--){ let ai = parseInt(a[i]) - borrow; let bi = parseInt(b[i]); if(ai < bi){ ai += 2; borrow = 1; res = (ai - bi) + res; steps.unshift(`bit ${i}: (${a[i]} - borrow 1) -> ${ai} ; ${ai} - ${b[i]} = ${ai - bi} (borrow 1)`); } else { res = (ai - bi) + res; steps.unshift(`bit ${i}: (${a[i]} - borrow ${borrow}) -> ${ai} ; ${ai} - ${b[i]} = ${ai - bi} (borrow 0)`); borrow = 0; }}
  res = res.replace(/^0+/, '') || '0'; if(borrow) steps.unshift(`final borrow: ${borrow} (negative in unsigned arithmetic)`);
  return {result:res, steps};
}

// ======= UI rendering & main logic =======
function renderInputs(){
  const op = document.getElementById('operationType').value; const area = document.getElementById('inputsArea'); let html='';
  if(op==='conversion'){
    html = `
      <div class="two-col">
        <div>
          <label>Input Base</label>
          <select id="inBase"><option value="decimal">Decimal</option><option value="binary">Binary</option><option value="octal">Octal</option><option value="hexadecimal">Hexadecimal</option></select>
        </div>
        <div>
          <label>Convert To</label>
          <select id="toBase"><option value="decimal">Decimal</option><option value="binary">Binary</option><option value="octal">Octal</option><option value="hexadecimal">Hexadecimal</option></select>
        </div>
      </div>
      <div style="margin-top:8px"><label>Number</label><input id="singleInput" type="text" placeholder="e.g. 45 or 101101 or 2A (hex)"></div>
    `;
  } else if(op==='complement'){
    html = `
      <div class="two-col">
        <div>
          <label>Input Base (will be converted to binary for complement)</label>
          <select id="inBase"><option value="binary">Binary</option><option value="decimal">Decimal</option><option value="octal">Octal</option><option value="hexadecimal">Hexadecimal</option></select>
        </div>
        <div>
          <label>Complement Type</label>
          <select id="compType"><option value="ones">1's Complement</option><option value="twos">2's Complement</option></select>
        </div>
      </div>
      <div style="margin-top:8px"><label>Number</label><input id="singleInput" type="text" placeholder="Enter number (if not binary, it will convert first)"></div>
    `;
  } else {
    html = `
      <div class="two-col">
        <div>
          <label>First Number</label>
          <input id="numA" type="text" placeholder="e.g. 13 or 1101 or -5">
        </div>
        <div>
          <label>Second Number</label>
          <input id="numB" type="text" placeholder="e.g. 7 or 1011 or -3">
        </div>
      </div>
      <div style="margin-top:8px">
        <label>Input Base for both numbers</label>
        <select id="arithBase"><option value="decimal">Decimal</option><option value="binary">Binary</option><option value="octal">Octal</option><option value="hexadecimal">Hexadecimal</option></select>
      </div>
    `;
  }
  area.innerHTML = html;
}

function resetAll(){ document.getElementById('results').innerHTML = `<div class="step"><strong>Ready</strong><div style="margin-top:8px"><pre>Choose an operation, enter inputs and click Calculate.</pre></div></div>`; renderInputs(); }

function run(){
  const op = document.getElementById('operationType').value; const resultBase = document.getElementById('resultBase').value; const out = document.getElementById('results'); out.innerHTML='';
  try{
    if(op==='conversion'){
      const inBase = document.getElementById('inBase').value; const toBase = document.getElementById('toBase').value; const s = document.getElementById('singleInput').value.trim(); if(!s) throw 'Please enter a number';
      const baseToDec = baseToDecimalSteps(s, inBase); const dec = baseToDec.decimal; const decToTarget = decimalToBaseSteps(dec, toBase);
      let html = '';
      html += makeStep(`Step 1 — ${inBase} → decimal`, baseToDec.steps.join('\n'));
      html += makeStep(`Decimal intermediate`, `${dec}`);
      html += makeStep(`Step 2 — decimal → ${toBase}`, decToTarget.steps.join('\n'));
      html += `<div class="step"><strong>Result (${toBase}):</strong> <div style="margin-top:6px"><pre class="highlight">${decToTarget.repr}</pre></div></div>`;
      out.innerHTML = html; return;
    }

    if(op==='complement'){
      const inBase = document.getElementById('inBase').value; const compType = document.getElementById('compType').value; const s = document.getElementById('singleInput').value.trim(); if(!s) throw 'Please enter a number';
      const baseToDec = baseToDecimalSteps(s, inBase); const dec = baseToDec.decimal; let absDec = Math.abs(dec);
      let width = Math.max(Math.ceil(Math.log2(Math.max(1, absDec+1))) + 1, 4);
      let binStr = (dec < 0) ? toTwosComplementStr(dec, width) : Math.abs(dec).toString(2).padStart(width,'0');
      // ones
      let onesRes = binStr.split('').map(b=> b==='0'?'1':'0').join('');
      let onesSteps = binStr.split('').map((b,i)=>`${b} → ${b==='0'?'1':'0'}`).join('\n');
      // twos
      // add 1 to ones
      let carry=1; let twosRes=''; let twosSteps=[];
      for(let i=onesRes.length-1;i>=0;i--){ let sum = parseInt(onesRes[i]) + carry; let outb = sum%2; twosRes = outb + twosRes; twosSteps.unshift(`index ${i}: ${onesRes[i]} + carry ${carry} => ${outb} (new carry ${Math.floor(sum/2)})`); carry = Math.floor(sum/2);} if(carry) { twosRes = '1' + twosRes; twosSteps.unshift(`final carry: ${carry} -> extended`); }
      const chosen = compType==='ones' ? {res:onesRes, steps:onesSteps} : {res:twosRes, steps:twosSteps.join('\n')};
      const compDec = parseInt(chosen.res, 2);
      const decToTarget = decimalToBaseSteps(compDec, resultBase);
      let html='';
      html += makeStep(`Step A — ${inBase} → decimal`, baseToDec.steps.join('\n') + `\nDecimal intermediate: ${dec}`);
      html += makeStep(`Step B — Represent as binary (width = ${width} bits)`, `binary representation used: ${binStr}`);
      html += makeStep(`Step C — Compute ${compType==='ones'?"1's":"2's"} complement`, chosen.steps);
      html += makeStep(`Step D — Interpret result as unsigned binary → decimal`, `${chosen.res}₂ = ${compDec}₁₀`);
      html += makeStep(`Step E — Convert decimal ${compDec} → ${resultBase}`, decToTarget.steps.join('\n'));
      html += `<div class="step"><strong>Complement result (${resultBase}):</strong> <div style="margin-top:6px"><pre class="highlight">${decToTarget.repr}</pre></div></div>`;
      out.innerHTML = html; return;
    }

    // Arithmetic
    const inBase = document.getElementById('arithBase').value; const aStr=document.getElementById('numA').value.trim(); const bStr=document.getElementById('numB').value.trim(); if(!aStr||!bStr) throw 'Enter both operands';
    const aDec = baseToDecimalSteps(aStr, inBase).decimal; const bDec = baseToDecimalSteps(bStr, inBase).decimal; let resultDec; let html='';
    html += makeStep('Step 1 — Convert inputs to decimal', `A: ${aStr} (${inBase}) → ${aDec}\nB: ${bStr} (${inBase}) → ${bDec}`);
    const opType = document.getElementById('operationType').value;
    if(opType==='addition'){ resultDec = aDec + bDec; html += makeStep('Step 2 — Decimal operation', `${aDec} + ${bDec} = ${resultDec}`); }
    else if(opType==='subtraction'){ resultDec = aDec - bDec; html += makeStep('Step 2 — Decimal operation', `${aDec} - ${bDec} = ${resultDec}`); }
    else if(opType==='multiplication'){ resultDec = aDec * bDec; html += makeStep('Step 2 — Decimal operation', `${aDec} × ${bDec} = ${resultDec}`); }
    else if(opType==='division'){ if(bDec===0) throw 'Division by zero'; const q = Math.floor(aDec/bDec); const r = aDec % bDec; html += makeStep('Step 2 — Decimal operation', `${aDec} ÷ ${bDec} = Quotient ${q}, Remainder ${r}`);
      const qConv = decimalToBaseSteps(q, resultBase); const rConv = decimalToBaseSteps(r, resultBase);
      html += `<div class="step"><strong>Quotient (${resultBase}):</strong> <div style="margin-top:6px"><pre class="highlight">${qConv.repr}</pre></div>\n<strong>Remainder (${resultBase}):</strong> <div style="margin-top:6px"><pre class="highlight">${rConv.repr}</pre></div></div>`; out.innerHTML = html; return; }

    // Show result conversion according to selected resultBase
    if(resultBase==='binary'){
      // build two's complement view / column arithmetic where helpful
      const width = Math.max(Math.ceil(Math.log2(Math.max(1, Math.abs(resultDec)+1))) + 1, 4, Math.ceil(Math.log2(Math.max(1, Math.abs(aDec)+1))) + 1, Math.ceil(Math.log2(Math.max(1, Math.abs(bDec)+1))) + 1);
      const aBin = toTwosComplementStr(aDec, width); const bBin = toTwosComplementStr(bDec, width);
      if(opType==='addition'){
        const col = binaryColumnAddSteps(aBin, bBin);
        html += makeStep(`Step 3 — Operands (two's complement, ${width} bits)`, `A: ${aDec} → ${aBin}\nB: ${bDec} → ${bBin}`);
        html += makeStep('Step 4 — Binary column addition (bit-by-bit with carries)', col.steps.join('\n'));
        html += `<div class="step"><strong>Binary result (two's complement):</strong> <div style="margin-top:6px"><pre class="highlight">${col.result}</pre></div>\n<strong>Decimal result:</strong> ${resultDec}</div>`;
      } else if(opType==='subtraction'){
        // A - B implemented as A + (two's complement of B)
        const bTwos = toTwosComplementStr(-bDec, width);
        const col = binaryColumnAddSteps(aBin, bTwos);
        html += makeStep('Step 3 — Operands (two\'s complement representation)', `A: ${aBin}\nB: ${bBin}\nTwo's complement of B: ${bTwos}`);
        html += makeStep('Step 4 — Binary column addition A + (two\'s complement B)', col.steps.join('\n'));
        html += `<div class="step"><strong>Binary result (two's complement):</strong> <div style="margin-top:6px"><pre class="highlight">${col.result}</pre></div>\n<strong>Decimal result:</strong> ${resultDec}</div>`;
      } else if(opType==='multiplication'){
        const m1 = Math.abs(aDec), m2=Math.abs(bDec); const m1b = m1.toString(2), m2b = m2.toString(2);
        let partials = [];
        for(let i=m2b.length-1;i>=0;i--){ let bit=m2b[i]; let shift = (m2b.length-1 - i); if(bit==='1') partials.push(`${m1b} << ${shift} = ${(m1 << shift).toString(2)}`); else partials.push(`0 << ${shift} = 0`); }
        html += makeStep('Step 3 — Binary multiplicand & multiplier', `A: ${aDec} -> ${aDec.toString(2)}\nB: ${bDec} -> ${bDec.toString(2)}`);
        html += makeStep('Step 4 — Partial products (shift & add)', partials.join('\n'));
        html += `<div class="step"><strong>Binary result:</strong> <div style="margin-top:6px"><pre class="highlight">${Math.abs(resultDec).toString(2)}</pre></div>\n<strong>Decimal result:</strong> ${resultDec}</div>`;
      }
      out.innerHTML = html; return;
    }

    // decimal / octal / hex
    const conv = decimalToBaseSteps(resultDec, resultBase);
    html += makeStep(`Step 3 — Convert decimal result ${resultDec} → ${resultBase}`, conv.steps.join('\n'));
    html += `<div class="step"><strong>Result (${resultBase}):</strong> <div style="margin-top:6px"><pre class="highlight">${conv.repr}</pre></div></div>`;
    out.innerHTML = html;

  } catch(err){ out.innerHTML = `<div class="step" style="color:#7a0d80"><strong>Error:</strong><div style="margin-top:8px"><pre>${err}</pre></div></div>`; }
}

function makeStep(title, body){ return `<div class=\"step\"><strong>${title}</strong><div style=\"margin-top:8px\"><pre>${body}</pre></div></div>`; }

// initial render
renderInputs();

</script>
</body>
</html>